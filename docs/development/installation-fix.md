# å®‰è£…è„šæœ¬åˆ›å»ºå®Œæˆ

**æ—¥æœŸ**: 2026-01-21
**çŠ¶æ€**: âœ… å®Œæˆ

---

## é—®é¢˜ä¿®å¤

### 1. å¯¼å…¥è·¯å¾„é”™è¯¯ âœ…

**é—®é¢˜**:
```
âŒ å¯¼å…¥æ¨¡å—å¤±è´¥: No module named 'src'
```

**åŸå› **:
- å·¥ä½œç›®å½•ä¸åœ¨é¡¹ç›®æ ¹ç›®å½•
- ç›¸å¯¹å¯¼å…¥è·¯å¾„é”™è¯¯

**è§£å†³**:
```python
# è‡ªåŠ¨åˆ‡æ¢åˆ°é¡¹ç›®æ ¹ç›®å½•
script_dir = Path(__file__).parent
project_root = script_dir.parent.parent
sys.path.insert(0, str(project_root))

# åˆ‡æ¢å·¥ä½œç›®å½•
os.chdir(project_root)
```

### 2. ç¼ºå°‘ä¾èµ– âœ…

**é—®é¢˜**:
- `openwakeword` æœªåœ¨ requirements.txt ä¸­
- ç¼ºå°‘ `psutil` æ€§èƒ½ç›‘æ§åº“

**è§£å†³**:
- æ›´æ–° `requirements.txt` æ·»åŠ  `openwakeword>=0.5.0`
- æ·»åŠ  `psutil>=5.9.0` (å¯é€‰)

---

## åˆ›å»ºçš„æ–‡ä»¶

### 1. å®‰è£…è„šæœ¬

| æ–‡ä»¶ | å¹³å° | åŠŸèƒ½ |
|------|------|------|
| `setup.sh` | Linux/mac | è‡ªåŠ¨å®‰è£…è„šæœ¬ |
| `setup.bat` | Windows | è‡ªåŠ¨å®‰è£…è„šæœ¬ |

**åŠŸèƒ½**:
- âœ… è‡ªåŠ¨æ£€æµ‹æ¶æ„ (AMD64/ARM64)
- âœ… æ£€æŸ¥ Python ç‰ˆæœ¬
- âœ… è‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
- âœ… å®‰è£…ç³»ç»Ÿä¾èµ– (PortAudio)
- âœ… å®‰è£… Python ä¾èµ–
- âœ… éªŒè¯å®‰è£…æˆåŠŸ

### 2. é…ç½®ç¤ºä¾‹

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `config.example.yaml` | é…ç½®æ–‡ä»¶ç¤ºä¾‹ |
| `INSTALL.md` | è¯¦ç»†å®‰è£…æŒ‡å— |

---

## ä½¿ç”¨æ–¹æ³•

### Linux / macOS

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/home_pi

# 2. è¿è¡Œå®‰è£…è„šæœ¬
chmod +x setup.sh
./setup.sh
```

**è„šæœ¬è¾“å‡ºç¤ºä¾‹**:
```
============================================================
        è¯­éŸ³åŠ©æ‰‹ç³»ç»Ÿ - è‡ªåŠ¨å®‰è£…è„šæœ¬
============================================================

[INFO] æ£€æµ‹åˆ°ç³»ç»Ÿæ¶æ„: x86_64
[INFO] è¿™æ˜¯å¼€å‘ç¯å¢ƒ (AMD64)
[INFO] Python ç‰ˆæœ¬: 3.10.12
[WARN] æœªæ£€æµ‹åˆ°è™šæ‹Ÿç¯å¢ƒ
[INFO] åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ...
[INFO] è™šæ‹Ÿç¯å¢ƒåˆ›å»ºæˆåŠŸ
[INFO] æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ...
[INFO] è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»

[INFO] æ›´æ–° pip...
[INFO] å®‰è£… Python ä¾èµ–...
...
[INFO] âœ… æ‰€æœ‰ä¾èµ–å®‰è£…æˆåŠŸ
```

### Windows

```cmd
cd C:\path\to\home_pi
setup.bat
```

---

## ä¾èµ–æ›´æ–°

### requirements.txt (å®Œæ•´ç‰ˆ)

```
æ ¸å¿ƒä¾èµ–:
- numpy>=1.21.0,<2.0.0
- pyyaml>=6.0
- pyaudio>=0.2.12

å”¤é†’è¯æ£€æµ‹:
- openwakeword>=0.5.0  â† æ–°å¢

æµ‹è¯•ä¾èµ–:
- pytest>=7.0.0
- pytest-mock>=3.10.0
- pytest-cov>=4.0.0

æ€§èƒ½ç›‘æ§:
- psutil>=5.9.0      â† æ–°å¢
```

---

## éªŒè¯ä¿®å¤

### å¯¼å…¥æµ‹è¯• âœ…

```bash
python3 -c "
import sys
from pathlib import Path
sys.path.insert(0, '.')
from src.config import get_config
from src.audio import ReSpeakerInput
from src.wake_word import OpenWakeWordDetector
print('âœ… æ‰€æœ‰æ¨¡å—å¯¼å…¥æˆåŠŸ')
"
```

**ç»“æœ**:
```
âœ… å¯¼å…¥ src.config æˆåŠŸ
âœ… å¯¼å…¥ src.audio æˆåŠŸ
âœ… å¯¼å…¥ src.wake_word æˆåŠŸ
```

---

## å¿«é€Ÿä½¿ç”¨

### å®‰è£…ä¾èµ–

```bash
# ä¸€é”®å®‰è£…
./setup.sh
```

### é…ç½®

```bash
cp config.example.yaml config.yaml
vim config.yaml
```

### æµ‹è¯•

```bash
# å•å…ƒæµ‹è¯•
pytest tests/unit/ -v

# ç¡¬ä»¶æµ‹è¯•
python tests/manual/test_hardware.py
```

---

## æ¶æ„æ£€æµ‹

å®‰è£…è„šæœ¬è‡ªåŠ¨æ£€æµ‹å¹¶é€‚é…ä¸åŒæ¶æ„:

| æ¶æ„ | å¹³å° | æ“ä½œ |
|------|------|------|
| **x86_64** | AMD64 | å®‰è£… `requirements.txt` |
| **aarch64** | ARM64 | å®‰è£… `requirements-arm64.txt` |

---

**å®‰è£…è„šæœ¬åˆ›å»ºå®Œæˆï¼** ğŸ‰

ç°åœ¨å¯ä»¥ä¸€é”®å®‰è£…æ‰€æœ‰ä¾èµ–ï¼
