# æ ‘è“æ´¾è¯­éŸ³åŠ©æ‰‹ç³»ç»Ÿ

**ç‰ˆæœ¬**: 1.0.0 âœ…
**çŠ¶æ€**: ğŸ‰ ç”Ÿäº§å°±ç»ª (ç¬¬ä¸€é˜¶æ®µ)
**å‘å¸ƒæ—¥æœŸ**: 2026-01-21

## é¡¹ç›®ç®€ä»‹

åŸºäºæ ‘è“æ´¾5 + ReSpeaker 4 Mic Array çš„æœ¬åœ°ä¸­æ–‡è¯­éŸ³åŠ©æ‰‹ç³»ç»Ÿã€‚

### ğŸ“¦ å®‰è£…ä¾èµ–

**ä¸€é”®å®‰è£… (æ¨è)**:
```bash
# Linux/macOS
chmod +x setup.sh && ./setup.sh

# Windows
setup.bat
```

**æ‰‹åŠ¨å®‰è£…**: è§ [INSTALL.md](INSTALL.md)

---

### ç¬¬ä¸€é˜¶æ®µåŠŸèƒ½ (å½“å‰)

âœ… **å”¤é†’è¯æ£€æµ‹**
- ReSpeaker 4-Mic è¿œåœºéŸ³é¢‘è¾“å…¥
- OpenWakeWord å®æ—¶å”¤é†’è¯æ£€æµ‹
- éŸ³é¢‘åé¦ˆæç¤º

### è®¡åˆ’åŠŸèƒ½ (åç»­é˜¶æ®µ)

- [ ] è¯­éŸ³è¯†åˆ« (STT) - FunASR
- [ ] å¯¹è¯ç”Ÿæˆ (LLM) - åƒé—® API
- [ ] è¯­éŸ³åˆæˆ (TTS) - å¾…å®š (å¯èƒ½ä½¿ç”¨ Piper TTS)
- [ ] å¤šè½®å¯¹è¯ç®¡ç†
- [ ] æŠ€èƒ½æ’ä»¶ç³»ç»Ÿ

---

## å¿«é€Ÿå¼€å§‹

### ä¸€é”®å®‰è£… (æ¨è)

```bash
# Linux/macOS
chmod +x setup.sh
./setup.sh

# Windows
setup.bat
```

**è‡ªåŠ¨å®‰è£…è„šæœ¬ä¼š**:
- âœ… è‡ªåŠ¨æ£€æµ‹æ¶æ„ (AMD64/ARM64)
- âœ… åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
- âœ… å®‰è£…æ‰€æœ‰ä¾èµ–
- âœ… éªŒè¯å®‰è£…

### æ‰‹åŠ¨å®‰è£…

å¦‚æœä¸€é”®å®‰è£…å¤±è´¥ï¼Œè¯·å‚è€ƒ [è¯¦ç»†å®‰è£…æŒ‡å—](INSTALL.md)

---

### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- æ ‘è“æ´¾5 (8GB RAM) æˆ–å…¼å®¹è®¾å¤‡
- ReSpeaker 4 Mic Array (å¯é€‰)

---

## é¡¹ç›®ç»“æ„

```
home_pi/
â”œâ”€â”€ main.py                     # ä¸»å…¥å£
â”œâ”€â”€ config.yaml                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt            # Python ä¾èµ–
â”œâ”€â”€ CLAUDE.md                   # Claude Code æŒ‡å—
â”‚
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”‚   â”œâ”€â”€ demand/
â”‚   â”‚   â”œâ”€â”€ 1.0.md              # éœ€æ±‚æ–‡æ¡£ (v1.0)
â”‚   â”‚   â””â”€â”€ 1.0-optimized.md    # éœ€æ±‚æ–‡æ¡£ (v1.1 ä¼˜åŒ–ç‰ˆ)
â”‚   â””â”€â”€ development/
â”‚       â””â”€â”€ phase1-wake-word.md # ç¬¬ä¸€é˜¶æ®µå¼€å‘æ–‡æ¡£
â”‚
â”œâ”€â”€ src/                        # æºä»£ç 
â”‚   â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ config_loader.py
â”‚   â”œâ”€â”€ audio/                  # éŸ³é¢‘è¾“å…¥
â”‚   â”‚   â”œâ”€â”€ microphone.py       # æŠ½è±¡å±‚
â”‚   â”‚   â””â”€â”€ respeaker_input.py  # ReSpeaker å®ç°
â”‚   â”œâ”€â”€ wake_word/              # å”¤é†’è¯æ£€æµ‹
â”‚   â”‚   â”œâ”€â”€ detector.py         # æŠ½è±¡å±‚
â”‚   â”‚   â””â”€â”€ openwakeword_detector.py
â”‚   â”œâ”€â”€ feedback/               # å”¤é†’åé¦ˆ
â”‚   â”‚   â”œâ”€â”€ player.py           # æŠ½è±¡å±‚
â”‚   â”‚   â””â”€â”€ audio_feedback.py
â”‚   â””â”€â”€ state_machine/          # çŠ¶æ€æœº
â”‚       â”œâ”€â”€ states.py           # çŠ¶æ€å®šä¹‰
â”‚       â””â”€â”€ machine.py          # çŠ¶æ€æœºå®ç°
â”‚
â”œâ”€â”€ tests/                      # æµ‹è¯•
â”‚   â”œâ”€â”€ unit/                   # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ integration/            # é›†æˆæµ‹è¯•
â”‚
â”œâ”€â”€ assets/                     # èµ„æºæ–‡ä»¶
â”œâ”€â”€ logs/                       # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ models/                     # æ¨¡å‹æ–‡ä»¶
```

---

## å¼€å‘æŒ‡å—

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/unit/

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/unit/test_config.py

# æ˜¾ç¤ºè¦†ç›–ç‡
pytest --cov=src tests/
```

### ä»£ç é£æ ¼

```bash
# æ ¼å¼åŒ–ä»£ç 
black src/ tests/

# ä»£ç æ£€æŸ¥
pylint src/
```

### æ¶æ„å…¼å®¹æ€§

âš ï¸ **é‡è¦**: é¡¹ç›®åŒæ—¶æ”¯æŒ amd64 (å¼€å‘) å’Œ arm64 (ç”Ÿäº§) ç¯å¢ƒ

| ç¯å¢ƒ | æ¶æ„ | ç”¨é€” |
|------|------|------|
| å¼€å‘æœº | amd64 (x86_64) | å¿«é€Ÿå¼€å‘å’Œå•å…ƒæµ‹è¯• |
| æ ‘è“æ´¾ | arm64 | ç”Ÿäº§éƒ¨ç½² |

è¯¦ç»†è¯´æ˜è§: [CLAUDE.md](CLAUDE.md)

---

## é…ç½®è¯´æ˜

### éŸ³é¢‘é…ç½®

```yaml
audio:
  input_device: "seeed-4mic-voicecard"  # è®¾å¤‡åç§°
  sample_rate: 16000                     # é‡‡æ ·ç‡
  channels: 1                            # å•å£°é“
  chunk_size: 512                        # ç¼“å†²åŒºå¤§å°
```

### å”¤é†’è¯é…ç½®

```yaml
wakeword:
  engine: "openwakeword"
  model: "path/to/model.ppn"             # æ¨¡å‹æ–‡ä»¶
  threshold: 0.5                         # æ£€æµ‹é˜ˆå€¼ (0-1)
```

### åé¦ˆé…ç½®

```yaml
feedback:
  mode: "beep"                           # èœ‚é¸£å£°
  beep_duration_ms: 200                  # æŒç»­æ—¶é—´
  beep_frequency: 880                    # é¢‘ç‡ (Hz)
```

---

## çŠ¶æ€æœºè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IDLE   â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â”‚
     â”‚ æ£€æµ‹åˆ°å”¤é†’è¯          â”‚
     â–¼                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚ WAKEUP  â”‚                  â”‚
â”‚ (æ’­æ”¾   â”‚                  â”‚
â”‚  åé¦ˆ)  â”‚                  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â”‚
     â”‚ æ’­æ”¾å®Œæˆ              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ–‡æ¡£

- [CLAUDE.md](CLAUDE.md) - é¡¹ç›®æ¶æ„å’Œå¼€å‘æŒ‡å—
- [éœ€æ±‚æ–‡æ¡£ v1.1](docs/demand/1.0-optimized.md) - å®Œæ•´éœ€æ±‚è¯´æ˜
- [ç¬¬ä¸€é˜¶æ®µå¼€å‘æ–‡æ¡£](docs/development/phase1-wake-word.md) - å½“å‰é˜¶æ®µè¯¦ç»†è®¾è®¡

---

## æ•…éšœæ’é™¤

### ReSpeaker æœªæ£€æµ‹åˆ°

```bash
# æŸ¥çœ‹éŸ³é¢‘è®¾å¤‡
arecord -L | grep seeed

# å¦‚æœæ²¡æœ‰è¾“å‡ºï¼Œé‡æ–°å®‰è£…é©±åŠ¨
cd seeed-voicecard
sudo ./install.sh
sudo reboot
```

### PyAudio å®‰è£…å¤±è´¥

```bash
# Ubuntu/Debian
sudo apt install portaudio19-dev python3-dev

# macOS
brew install portaudio
```

### å”¤é†’è¯æ£€æµ‹ä¸å·¥ä½œ

1. æ£€æŸ¥æ¨¡å‹æ–‡ä»¶è·¯å¾„
2. é™ä½æ£€æµ‹é˜ˆå€¼ (`threshold: 0.3`)
3. ç¡®è®¤éŸ³é¢‘è¾“å…¥æ­£å¸¸: `arecord -f S16_LE -r 16000 -c 1 test.wav`

---

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request!

---

## è®¸å¯è¯

MIT License

---

## è”ç³»æ–¹å¼

- é—®é¢˜åé¦ˆ: [GitHub Issues](https://github.com/your-repo/issues)
- é‚®ç®±: your-email@example.com

---

**å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…æ›´å¤šåŠŸèƒ½!**
